<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>DIGIY HUB ‚Äî 0% Commission</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="description" content="DIGIY HUB ‚Äî Toutes les apps DIGIY au m√™me endroit. 0% commission, paiement direct au pro.">
  <meta name="theme-color" content="#0A0E1A">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800;900&family=Manrope:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg-dark:#020617;
      --bg-soft:#0B1120;
      --card:#0B1120;
      --card2:rgba(15,23,42,0.98);
      --cardBorder:rgba(148, 163, 184, 0.48);
      --ink:#F9FAFB;
      --ink-soft:#E5E7EB;
      --muted:#CBD5E1;
      --accent:#f97316;
      --accent-strong:#ea580c;
      --gold:#facc15;
      --success:#22c55e;
      --danger:#ef4444;
      --glow-primary:rgba(249, 115, 22, 0.4);
      --glow-secondary:rgba(34, 211, 238, 0.35);
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    html,body{height:100%;}

    body{
      font-family:'Manrope', -apple-system, BlinkMacSystemFont, system-ui, sans-serif;
      font-size:16px;
      min-height:100vh;
      background:
        radial-gradient(circle at top left, rgba(249,115,22,0.14), transparent 55%),
        radial-gradient(circle at bottom right, rgba(34,211,238,0.18), transparent 60%),
        #020617;
      color:var(--ink);
      display:flex;
      justify-content:center;
      overflow-x:hidden;
      position:relative;
      -webkit-font-smoothing:antialiased;
    }

    body::before{
      content:'';
      position:fixed;
      inset:0;
      background:
        radial-gradient(ellipse at 15% 20%, rgba(249,115,22,0.22) 0%, transparent 55%),
        radial-gradient(ellipse at 85% 80%, rgba(56,189,248,0.22) 0%, transparent 55%);
      opacity:0.55;
      z-index:0;
      pointer-events:none;
    }

    strong{font-weight:800;}

    .app{
      width:100%;
      max-width:1400px;
      min-height:100vh;
      background:rgba(15,23,42,0.9);
      backdrop-filter:blur(40px);
      border-left:1px solid rgba(148,163,184,0.45);
      border-right:1px solid rgba(148,163,184,0.45);
      padding:2rem;
      display:flex;
      flex-direction:column;
      position:relative;
      z-index:1;
    }

    @media(max-width:768px){ .app{padding:1rem;} }

    @keyframes slideInUp{from{opacity:0;transform:translateY(32px);}to{opacity:1;transform:translateY(0);} }
    @keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-8px);} }
    @keyframes pulse{0%,100%{transform:scale(1);opacity:1;}50%{transform:scale(0.97);opacity:0.7;} }
    @keyframes blink{0%,100%{opacity:1;}50%{opacity:0.3;} }

    header{
      display:flex;justify-content:space-between;align-items:center;gap:1rem;
      margin-bottom:2rem;
      padding:1.25rem 1.75rem;
      background:linear-gradient(135deg, rgba(15,23,42,0.98), rgba(17,24,39,0.96));
      border-radius:24px;
      border:1px solid rgba(148,163,184,0.55);
      box-shadow:0 14px 40px rgba(0,0,0,0.75);
      animation:slideInUp 0.5s ease-out;
      position:relative;overflow:hidden;
    }

    header::before{
      content:'';
      position:absolute;inset:0;
      background:radial-gradient(circle at top left, rgba(249,115,22,0.20), transparent 60%);
      opacity:0.9;pointer-events:none;
    }

    .brand{display:flex;align-items:center;gap:1rem;text-decoration:none;color:inherit;position:relative;z-index:1;}
    .brand-logo{
      width:56px;height:56px;border-radius:18px;
      background:radial-gradient(circle at 30% 20%,#fef3c7,#f97316);
      display:flex;align-items:center;justify-content:center;
      font-size:2rem;font-weight:900;color:#111827;
      box-shadow:0 12px 32px rgba(249,115,22,0.7);
      position:relative;overflow:hidden;
    }
    .brand-logo::after{
      content:'';
      position:absolute;inset:-20%;
      background:conic-gradient(from 0deg,#f97316,#facc15,#22d3ee,#f97316);
      mix-blend-mode:soft-light;opacity:0.55;
      animation:float 6s infinite ease-in-out;
    }

    .brand-text-title{
      font-family:'Outfit',sans-serif;
      font-size:2rem;font-weight:900;letter-spacing:0.08em;text-transform:uppercase;
      background:linear-gradient(135deg,#f97316,#facc15,#22d3ee);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
    }
    .brand-text-sub{
      font-size:0.85rem;text-transform:uppercase;letter-spacing:0.16em;
      color:var(--muted);font-weight:700;
    }

    .top-actions{
      display:flex;
      align-items:center;
      gap:1rem;
      justify-content:flex-end;
      flex-wrap:nowrap;
      position:relative;
      z-index:1;
    }
    @media(max-width:768px){
      header{flex-direction:column;align-items:flex-start;}
      .brand-text-title{font-size:1.6rem;}
      .top-actions{width:100%;justify-content:flex-end;flex-wrap:wrap;}
    }

    .user-pill{
      display:flex;align-items:center;gap:0.8rem;
      padding:0.5rem 1.2rem;
      background:rgba(15,23,42,0.98);
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.65);
      box-shadow:0 10px 28px rgba(15,23,42,0.95);
    }
    .user-avatar{
      width:38px;height:38px;border-radius:999px;
      background:radial-gradient(circle at 30% 20%,#fecaca,#f97316);
      display:flex;align-items:center;justify-content:center;
      font-size:1.1rem;font-weight:800;color:#111827;
    }
    .user-name{font-family:'Outfit',sans-serif;font-size:0.98rem;font-weight:800;color:var(--ink);}
    .user-role{font-size:0.82rem;color:var(--muted);font-weight:600;}
    .logout-btn{border:none;background:transparent;color:var(--muted);font-size:1.2rem;cursor:pointer;padding-left:0.4rem;}
    .logout-btn:hover{color:#fff;}

    .menu-top{
      display:inline-flex;
      align-items:center;
      gap:.5rem;
      padding:.65rem 1.15rem;
      border-radius:999px;
      text-decoration:none;
      font-family:'Outfit',sans-serif;
      font-weight:950;
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:.82rem;
      color:#111827;
      background:linear-gradient(135deg,#facc15,#fde68a);
      border:1px solid rgba(250,204,21,0.9);
      box-shadow:0 10px 28px rgba(250,204,21,0.28);
      transition:transform .18s ease, box-shadow .18s ease;
      white-space:nowrap;
      position:relative;
      z-index:1;
    }
    .menu-top:hover{
      transform:translateY(-2px);
      box-shadow:0 16px 40px rgba(250,204,21,0.45);
    }
    .menu-top .icon{font-size:1.05rem;line-height:1;}

    .hero{
      margin-bottom:2rem;
      padding:2.3rem 2.1rem;
      border-radius:26px;
      border:1px solid rgba(148,163,184,0.50);
      background:
        radial-gradient(circle at top right,rgba(251,191,36,0.10),transparent 60%),
        linear-gradient(135deg,rgba(15,23,42,0.98),rgba(15,23,42,0.94));
      position:relative;overflow:hidden;
      box-shadow:0 18px 60px rgba(0,0,0,0.85);
      animation:slideInUp 0.55s ease-out;
    }
    .hero::before{
      content:'‚ôæÔ∏è';
      position:absolute;right:-18px;top:-20px;
      font-size:7rem;opacity:0.07;transform:rotate(-15deg);
      animation:float 7s infinite ease-in-out;
    }

    .urgency-bar{
      display:flex;justify-content:space-between;align-items:center;gap:1rem;
      margin-bottom:1.8rem;
      padding:0.85rem 1.2rem;
      border-radius:999px;
      border:1px solid rgba(250,204,21,0.85);
      background:linear-gradient(90deg,rgba(249,115,22,0.22),rgba(250,204,21,0.18));
      box-shadow:0 0 0 1px rgba(15,23,42,0.95);
      font-size:0.9rem;font-weight:700;color:var(--ink);
    }
    .urgency-label{display:flex;align-items:center;gap:0.6rem;flex-wrap:wrap;}
    .blink{animation:blink 1.6s infinite;}
    .urgency-strong{color:var(--gold);text-transform:uppercase;letter-spacing:0.14em;font-size:0.8rem;}
    .urgency-counter{display:flex;align-items:center;gap:0.35rem;font-family:'Outfit',sans-serif;font-weight:900;font-size:1.05rem;color:var(--ink);}
    .urgency-number{font-size:1.4rem;color:var(--danger);}

    .hero-grid{
      display:grid;
      grid-template-columns:minmax(0,2.2fr) minmax(0,1.4fr);
      gap:2rem;
      align-items:flex-start;
    }
    @media(max-width:900px){ .hero-grid{grid-template-columns:1fr;} }

    .hero-title{
      font-family:'Outfit',sans-serif;
      font-size:2.6rem;line-height:1.12;margin-bottom:1.1rem;font-weight:900;
      color:var(--ink);
    }
    .hero-title span{
      background:linear-gradient(135deg,#f97316,#facc15,#22d3ee);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
    }
    .hero-subtitle{
      font-size:1.05rem;
      color:var(--ink-soft);
      max-width:680px;
      line-height:1.7;
      margin-bottom:1.5rem;
      font-weight:600;
    }
    .domains-pills{display:flex;flex-wrap:wrap;gap:0.45rem;margin-bottom:1.8rem;}
    .pill{
      padding:0.4rem 0.85rem;border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      font-size:0.78rem;text-transform:uppercase;letter-spacing:0.12em;
      color:var(--ink-soft);
      background:rgba(15,23,42,0.98);
      font-weight:700;
    }
    .pill-strong{
      border-color:rgba(249,115,22,1);
      color:#fff;
      background:linear-gradient(135deg,rgba(249,115,22,0.28),rgba(15,23,42,0.98));
    }

    .hero-cta-row{display:flex;flex-wrap:wrap;gap:0.9rem;align-items:center;}
    .btn{
      border-radius:999px;
      padding:0.95rem 2rem;
      font-size:1rem;
      font-weight:900;
      border:none;
      cursor:pointer;
      display:inline-flex;
      align-items:center;
      gap:0.6rem;
      font-family:'Outfit',sans-serif;
      text-decoration:none;
      white-space:nowrap;
    }
    .btn-primary{
      background:linear-gradient(135deg,#f97316,#ea580c);
      color:#111827;
      box-shadow:0 14px 40px rgba(249,115,22,0.75);
    }
    .btn-primary span{font-size:1.35rem;}
    .btn-secondary{
      background:rgba(15,23,42,0.98);
      color:var(--ink);
      border:1px solid rgba(148,163,184,0.7);
      font-weight:800;
    }
    .btn-secondary:hover{border-color:#f97316;background:rgba(249,115,22,0.10);}
    .hero-meta{font-size:0.85rem;color:var(--muted);margin-top:0.5rem;font-weight:700;}

    .hero-right{
      background:radial-gradient(circle at top,rgba(249,115,22,0.22),transparent 65%);
      border-radius:22px;
      border:1px solid rgba(148,163,184,0.55);
      padding:1.4rem 1.5rem;
      backdrop-filter:blur(22px);
    }
    .hero-right-title{
      font-family:'Outfit',sans-serif;
      font-size:1.05rem;text-transform:uppercase;letter-spacing:0.16em;
      color:var(--muted);margin-bottom:0.6rem;font-weight:800;
    }
    .hero-right-main{font-size:1.7rem;font-weight:900;line-height:1.3;margin-bottom:1rem;color:var(--ink);}
    .hero-right-main span{color:#fff;}
    .hero-stats{
      display:grid;
      grid-template-columns:repeat(3,minmax(0,1fr));
      gap:0.8rem;
      margin-bottom:1.2rem;
    }
    .hero-stat{
      background:rgba(15,23,42,0.98);
      border-radius:16px;
      padding:0.9rem;
      border:1px solid rgba(148,163,184,0.55);
      text-align:center;
    }
    .hero-stat-number{
      font-family:'Outfit',sans-serif;
      font-size:1.4rem;
      font-weight:900;
      color:var(--ink);
    }
    .hero-stat-label{
      font-size:0.8rem;
      color:var(--muted);
      margin-top:0.25rem;
      font-weight:700;
    }
    .hero-right-note{
      font-size:0.86rem;
      color:var(--ink-soft);
      line-height:1.6;
      font-weight:600;
    }
    @media(max-width:768px){
      .hero{padding:1.6rem 1.1rem;}
      .hero-title{font-size:2rem;}
      .hero-right-main{font-size:1.45rem;}
      .hero-stats{grid-template-columns:repeat(2,minmax(0,1fr));}
      .urgency-bar{flex-direction:column;align-items:flex-start;}
    }

    .modules-section{
      background:linear-gradient(145deg,rgba(15,23,42,0.98),rgba(15,23,42,0.96));
      border-radius:26px;
      border:1px solid rgba(148,163,184,0.50);
      padding:2.1rem 2rem 2.4rem;
      margin-bottom:2rem;
      box-shadow:0 16px 52px rgba(0,0,0,0.9);
    }
    .modules-title{font-family:'Outfit',sans-serif;font-size:1.9rem;font-weight:900;margin-bottom:0.45rem;}
    .modules-subtitle{font-size:1rem;color:var(--muted);margin-bottom:1.7rem;font-weight:650;}
    .modules-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(260px,1fr));
      gap:1.3rem;
    }
    .module{
      position:relative;
      border-radius:20px;
      border:1px solid rgba(148,163,184,0.50);
      background:
        radial-gradient(circle at top left,rgba(249,115,22,0.14),transparent 60%),
        rgba(11,17,32,0.98);
      padding:1.35rem 1.25rem;
      overflow:hidden;
      cursor:pointer;
      transition:transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease;
    }
    .module::after{
      content:'';
      position:absolute;inset:0;
      background:radial-gradient(circle at bottom right,rgba(34,211,238,0.14),transparent 60%);
      opacity:0;
      transition:opacity 0.2s ease;
    }
    .module-inner{position:relative;z-index:1;display:flex;flex-direction:column;gap:0.7rem;}
    .module-header{display:flex;align-items:flex-start;justify-content:space-between;gap:0.6rem;}
    .module-icon{
      width:46px;height:46px;border-radius:16px;
      background:rgba(15,23,42,0.98);
      border:1px solid rgba(148,163,184,0.65);
      display:flex;align-items:center;justify-content:center;
      font-size:1.5rem;
    }
    .module-titles{flex:1;}
    .module-name{font-family:'Outfit',sans-serif;font-size:1.05rem;font-weight:950;margin-bottom:0.1rem;color:var(--ink);}
    .module-tagline{
      font-size:0.8rem;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:0.12em;
      font-weight:800;
    }
    .module-badge{
      font-size:0.72rem;
      padding:0.32rem 0.8rem;
      border-radius:999px;
      border:1px solid rgba(34,197,94,1);
      color:#dcfce7;
      background:rgba(22,163,74,0.18);
      text-transform:uppercase;
      letter-spacing:0.13em;
      font-weight:900;
      white-space:nowrap;
    }
    .badge-prio{
      border-color:rgba(250,204,21,1);
      color:#fef9c3;
      background:rgba(250,204,21,0.16);
    }
    .badge-soon{
      border-color:rgba(148,163,184,0.85);
      color:var(--muted);
      background:rgba(15,23,42,0.98);
    }
    .module-body{
      font-size:0.92rem;
      color:var(--ink-soft);
      line-height:1.65;
      font-weight:650;
    }
    .module-foot{display:flex;justify-content:space-between;align-items:center;gap:0.5rem;margin-top:0.35rem;}
    .module-btn{
      border-radius:999px;border:none;
      padding:0.55rem 1.1rem;
      font-size:0.82rem;
      font-weight:900;
      font-family:'Outfit',sans-serif;
      background:linear-gradient(135deg,#f97316,#ea580c);
      color:#111827;
      display:inline-flex;align-items:center;gap:0.4rem;
      cursor:pointer;
      box-shadow:0 8px 24px rgba(249,115,22,0.6);
    }
    .module-meta{font-size:0.78rem;color:var(--muted);font-weight:700;}
    .module:hover{
      transform:translateY(-5px);
      border-color:rgba(249,115,22,0.95);
      box-shadow:0 18px 42px rgba(0,0,0,0.95);
    }
    .module:hover::after{opacity:1;}
    @media(max-width:768px){
      .modules-section{padding:1.6rem 1.1rem 2rem;}
    }

    .pricing{
      background:linear-gradient(140deg,rgba(15,23,42,0.98),rgba(15,23,42,0.95));
      border-radius:24px;
      border:1px solid rgba(148,163,184,0.50);
      padding:2rem 1.8rem 2.2rem;
      margin-bottom:2rem;
      box-shadow:0 16px 52px rgba(0,0,0,0.9);
    }
    .pricing-title{font-family:'Outfit',sans-serif;font-size:1.8rem;font-weight:900;margin-bottom:0.4rem;}
    .pricing-subtitle{font-size:1rem;color:var(--muted);margin-bottom:1.6rem;font-weight:650;}
    .pricing-row{display:grid;grid-template-columns:minmax(0,1.4fr) minmax(0,1.2fr);gap:1.6rem;}
    @media(max-width:900px){.pricing-row{grid-template-columns:1fr;}}
    .pricing-card{
      border-radius:18px;
      border:1px solid rgba(249,115,22,0.75);
      background:radial-gradient(circle at top left,rgba(249,115,22,0.18),transparent 60%),
                 rgba(15,23,42,0.98);
      padding:1.4rem 1.5rem;
      box-shadow:0 14px 44px rgba(249,115,22,0.6);
    }
    .pricing-label{font-size:0.8rem;text-transform:uppercase;letter-spacing:0.16em;color:var(--muted);margin-bottom:0.35rem;font-weight:800;}
    .pricing-price{font-family:'Outfit',sans-serif;font-size:2.1rem;font-weight:950;color:#fff;}
    .pricing-note{font-size:0.9rem;color:var(--ink-soft);margin-top:0.35rem;margin-bottom:0.9rem;font-weight:650;}
    .pricing-list{list-style:none;font-size:0.9rem;color:var(--ink-soft);display:flex;flex-direction:column;gap:0.45rem;margin-bottom:0.9rem;font-weight:650;}
    .pricing-list li::before{content:'‚Ä¢ ';color:var(--gold);}
    .pricing-cta{
      display:inline-flex;align-items:center;gap:0.45rem;
      border-radius:999px;border:none;
      padding:0.7rem 1.4rem;
      font-size:0.9rem;font-weight:950;font-family:'Outfit',sans-serif;
      background:linear-gradient(135deg,#f97316,#ea580c);
      color:#111827;text-decoration:none;cursor:pointer;
    }
    .pricing-text{font-size:0.9rem;color:var(--muted);line-height:1.7;font-weight:650;}

    footer{
      border-top:1px solid rgba(148,163,184,0.45);
      padding-top:1.4rem;
      margin-top:0.8rem;
      text-align:center;
      font-size:0.85rem;
      color:var(--muted);
      font-weight:650;
    }
    .footer-tagline{font-family:'Outfit',sans-serif;font-size:1rem;font-weight:900;color:#fff;margin-bottom:0.5rem;}
    .footer-links{display:flex;flex-wrap:wrap;justify-content:center;gap:1.3rem;margin-bottom:0.7rem;}
    .footer-link{color:var(--muted);text-decoration:none;font-weight:800;font-size:0.85rem;}
    .footer-link:hover{color:#fff;}

    .tarif-bubble,.chat-bubble,.sos-bubble{
      position:fixed;z-index:60;text-decoration:none;
      display:flex;align-items:center;gap:0.4rem;
      padding:0.55rem 0.8rem;border-radius:999px;
      font-family:'Outfit',sans-serif;font-size:0.78rem;font-weight:900;
    }
    .tarif-bubble{
      right:0.8rem;bottom:5rem;
      background:linear-gradient(135deg,#f97316,#ea580c);
      color:#111827;
      box-shadow:0 10px 30px rgba(249,115,22,0.8);
      animation:pulse 3s infinite;
    }
    .tarif-badge-icon{
      width:22px;height:22px;border-radius:999px;background:#111827;
      display:flex;align-items:center;justify-content:center;
      font-size:0.8rem;color:#fed7aa;font-weight:900;
    }
    .chat-bubble{
      left:50%;bottom:1.4rem;transform:translateX(-50%);
      background:radial-gradient(circle at 20% 0,#fef3c7,#f97316);
      color:#111827;
      box-shadow:0 12px 34px rgba(249,115,22,0.95);
    }
    .chat-badge-icon{
      width:24px;height:24px;border-radius:999px;background:#111827;
      display:flex;align-items:center;justify-content:center;
      font-size:0.9rem;color:#facc15;font-weight:900;
    }
    .chat-bubble-text small{display:block;font-size:0.68rem;font-weight:800;opacity:0.9;}
    .sos-bubble{
      left:0.8rem;bottom:1.4rem;
      background:linear-gradient(135deg,#ef4444,#b91c1c);
      color:#fee2e2;
      box-shadow:0 12px 34px rgba(239,68,68,0.95);
    }
    .sos-badge-icon{
      width:24px;height:24px;border-radius:999px;background:#111827;
      display:flex;align-items:center;justify-content:center;
      font-size:1rem;color:#fecaca;font-weight:900;
    }
    .sos-bubble-text small{display:block;font-size:0.68rem;font-weight:800;opacity:0.95;}
    @media(max-width:768px){
      .tarif-bubble{right:0.6rem;bottom:4.6rem;padding:0.45rem 0.7rem;font-size:0.75rem;}
      .chat-bubble{bottom:0.9rem;padding:0.45rem 0.75rem;font-size:0.75rem;}
      .sos-bubble{left:0.6rem;bottom:0.9rem;padding:0.45rem 0.75rem;font-size:0.75rem;}
      .chat-badge-icon,.sos-badge-icon,.tarif-badge-icon{width:22px;height:22px;}
    }

    /* ===== MODAL SEARCH PRO ===== */
    .digiy-modal-overlay{
      display:none;
      position:fixed;
      inset:0;
      z-index:9999;
      background:rgba(0,0,0,.65);
    }
    .digiy-modal{
      max-width:1100px;
      margin:24px auto;
      padding:16px;
    }
    .digiy-modal-card{
      border:1px solid rgba(148,163,184,.45);
      border-radius:22px;
      background:rgba(15,23,42,.98);
      box-shadow:0 18px 60px rgba(0,0,0,.7);
      padding:16px;
    }
    .digiy-modal-row{
      display:grid;
      grid-template-columns: 1.5fr .8fr .7fr auto;
      gap:10px;
      align-items:center;
      margin-bottom:10px;
    }
    @media(max-width:900px){
      .digiy-modal-row{grid-template-columns:1fr;}
    }
    .digiy-input, .digiy-select{
      width:100%;
      border-radius:14px;
      padding:12px;
      border:1px solid rgba(148,163,184,.55);
      background:rgba(2,6,23,.55);
      color:#fff;
      font-weight:650;
      outline:none;
    }
    .digiy-input:focus, .digiy-select:focus{
      border-color:rgba(249,115,22,.85);
      box-shadow:0 0 0 3px rgba(249,115,22,0.15);
    }
    .digiy-results-grid{
      display:grid;
      grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
      gap:12px;
      margin-top:12px;
    }
    .digiy-result{
      border:1px solid rgba(148,163,184,.45);
      border-radius:18px;
      background:rgba(11,17,32,.98);
      padding:14px;
      cursor:pointer;
      transition:transform .15s ease, border-color .15s ease;
    }
    .digiy-result:hover{
      transform:translateY(-3px);
      border-color:rgba(249,115,22,.85);
    }
    .digiy-pill{
      font-size:.72rem;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.35);
      color:#cbd5e1;
      display:inline-flex;
      align-items:center;
      gap:6px;
    }
    #sp_debug{
      display:none;
      white-space:pre-wrap;
      margin-top:10px;
      padding:10px;
      border-radius:14px;
      border:1px dashed rgba(148,163,184,.45);
      color:#cbd5e1;
      font-size:12px;
      opacity:.9;
    }

    /* ===== HUB OVERLAY (OPEN MODULES WITHOUT LEAVING) ===== */
    #hubOverlay{
      display:none;
      position:fixed;
      inset:0;
      z-index:10000;
      background:rgba(0,0,0,.72);
      backdrop-filter:blur(8px);
      padding:14px;
    }
    #hubOverlay.show{display:block;}
    .hubOverlayCard{
      height:calc(100vh - 28px);
      max-width:1400px;
      margin:0 auto;
      border-radius:22px;
      border:1px solid rgba(148,163,184,.55);
      background:rgba(2,6,23,.86);
      box-shadow:0 18px 70px rgba(0,0,0,.8);
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }
    .hubOverlayTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding:12px 12px;
      background:linear-gradient(135deg, rgba(15,23,42,.98), rgba(17,24,39,.96));
      border-bottom:1px solid rgba(148,163,184,.35);
    }
    .hubOverlayLeft{
      display:flex;align-items:center;gap:10px;min-width:0;
    }
    .hubOverlayBrand{
      display:flex;align-items:center;gap:10px;
      font-family:Outfit,sans-serif;font-weight:950;letter-spacing:.08em;text-transform:uppercase;
      color:#fff;
      min-width:0;
    }
    .hubOverlayBadge{
      font-size:.72rem;
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(250,204,21,.75);
      background:rgba(250,204,21,.10);
      color:#fef9c3;
      font-weight:900;
      white-space:nowrap;
    }
    .hubOverlayTitle{
      font-size:.85rem;color:#cbd5e1;font-weight:700;
      overflow:hidden;text-overflow:ellipsis;white-space:nowrap;
      max-width:48vw;
    }
    .hubOverlayActions{
      display:flex;align-items:center;gap:8px;flex-wrap:wrap;justify-content:flex-end;
    }
    .hubOverlayBtn{
      border:none;
      border-radius:999px;
      padding:10px 12px;
      font-weight:950;
      cursor:pointer;
      font-family:Outfit,sans-serif;
      letter-spacing:.06em;
      display:inline-flex;
      align-items:center;
      gap:8px;
    }
    .hubOverlayBtn.back{
      background:linear-gradient(135deg,#facc15,#fde68a);
      color:#111827;
    }
    .hubOverlayBtn.close{
      background:rgba(15,23,42,.98);
      color:#e5e7eb;
      border:1px solid rgba(148,163,184,.55);
    }
    .hubOverlayFrame{
      width:100%;
      height:100%;
      border:0;
      background:#fff;
    }

    @media(max-width:768px){
      .hubOverlayTitle{max-width:70vw;}
    }
  </style>
</head>

<body>
<div class="app">

  <header>
    <a href="#" class="brand" id="homeBrand">
      <div class="brand-logo">‚àû</div>
      <div>
        <div class="brand-text-title">DIGIY HUB</div>
        <div class="brand-text-sub">0% COMMISSION ‚Ä¢ PAIEMENT DIRECT</div>
      </div>
    </a>

    <div class="top-actions">
      <a class="menu-top" href="https://digiylyfe.com/menus-pages" aria-label="Menu DIGIY" target="_blank" rel="noopener">
        <span class="icon">‚ò∞</span> MENU
      </a>

      <button id="btnRestoEngine" class="btn btn-secondary" style="padding:0.6rem 1.2rem;font-size:0.9rem;" type="button">
        üîç DIGIY RESTO
      </button>

      <button id="btnLogin" class="btn btn-secondary" style="padding:0.6rem 1.2rem;font-size:0.9rem;" type="button">
        üîê Se connecter
      </button>

      <div class="user-pill">
        <div class="user-avatar">üë§</div>
        <div>
          <div class="user-name">Invit√©</div>
          <div class="user-role">Connect√© √† DIGIYLYFE</div>
        </div>
        <button class="logout-btn" type="button" onclick="alert('Changement de compte √† venir')">‚èè</button>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="urgency-bar">
      <div class="urgency-label">
        <span class="blink">üî•</span>
        <span class="urgency-strong">OFFRE PIONNIERS</span>
        <span>Abonnement HUB √† <strong>29,900 F/mois √Ä VIE</strong> pour les premiers.</span>
      </div>
      <div class="urgency-counter">
        <span>Places restantes :</span>
        <span id="pioneersLeft" class="urgency-number">87</span>
      </div>
    </div>

    <div class="hero-grid">
      <div>
        <h1 class="hero-title">DIGIY ‚Äî <span>tout ton business dans ta main.</span></h1>
        <p class="hero-subtitle">
          Argent, r√©servation, chauffeur, restaurant, boutique, logements, artisans, jobs, marketplace.
          <strong>0% commission</strong> ‚Ä¢ Paiement direct au pro ‚Ä¢ Terrain first.
        </p>

        <div class="domains-pills">
          <span class="pill pill-strong">ARGENT ‚Äî DIGIY PAY</span>
          <span class="pill">CLIENT ‚Äî DIGIY GO</span>
          <span class="pill">R√âSERVATION ‚Äî DIGIY R√âSA</span>
          <span class="pill">CHAUFFEUR ‚Äî DIGIY DRIVER</span>
          <span class="pill">RESTAURANT ‚Äî DIGIY RESTO</span>
          <span class="pill">BOUTIQUE ‚Äî DIGIY POS / MARKET</span>
          <span class="pill">LOGEMENTS ‚Äî DIGIY LOC</span>
          <span class="pill">ARTISANS ‚Äî DIGIY BUILD</span>
          <span class="pill">JOBS ‚Äî DIGIY JOBS</span>
          <span class="pill">MARKETPLACE ‚Äî DIGIY MARKET</span>
          <span class="pill pill-strong">FRET ‚Äî DIGIY TRANSPORT</span>
        </div>

        <div class="hero-cta-row">
          <button id="btnGetHub" class="btn btn-primary" type="button">
            ACTION ‚Äî Je veux mon HUB <span>‚Üí</span>
          </button>
          <a href="https://wa.me/221771342889" class="btn btn-secondary" target="_blank" rel="noopener">
            Parler √† DIGIY (+221 77 134 2889)
          </a>
        </div>

        <div class="hero-meta">
          <strong>0% commission</strong> ‚Ä¢ Paiement direct ‚Ä¢ Les premiers √† entrer sont les premiers √† gagner.
        </div>
      </div>

      <div class="hero-right">
        <div class="hero-right-title">Tableau de bord DIGIY HUB</div>
        <div class="hero-right-main">
          <strong>1 HUB.</strong> <span>11 m√©tiers.</span><br>
          <strong>1 abonnement.</strong> <span>0% commission.</span>
        </div>
        <div class="hero-stats">
          <div class="hero-stat">
            <div class="hero-stat-number">+40,100 F</div>
            <div class="hero-stat-label">√âconomies moy./mois</div>
          </div>
          <div class="hero-stat">
            <div class="hero-stat-number">1 sem.</div>
            <div class="hero-stat-label">ROI moyen</div>
          </div>
          <div class="hero-stat">
            <div class="hero-stat-number">100%</div>
            <div class="hero-stat-label">Revenus dans ta poche</div>
          </div>
        </div>
        <div class="hero-right-note">
          DIGIY HUB est fait pour les chauffeurs, restaurateurs, h√©bergeurs, commer√ßants, artisans,
          ind√©pendants, PME‚Ä¶ Sans interm√©diaire. Humain. Direct.
        </div>
      </div>
    </div>
  </section>

  <section class="modules-section">
    <h2 class="modules-title">Tes modules DIGIY, dans un seul HUB</h2>
    <p class="modules-subtitle">
      Clique sur un module : √ßa s‚Äôouvre <strong>dans le HUB</strong>. Tu reviens avec <strong>‚Üê Retour HUB</strong>.
    </p>

    <div class="modules-grid">

      <div class="module" data-open="inscriptionClient" data-title="Acc√®s Client DIGIY (Inscription gratuite)">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">‚ôæÔ∏è</div>
            <div class="module-titles">
              <div class="module-name">ACC√àS CLIENT DIGIY</div>
              <div class="module-tagline">INSCRIPTION GRATUITE</div>
            </div>
            <div class="module-badge badge-prio">GRATUIT</div>
          </div>
          <div class="module-body">
            Cr√©e ton compte gratuitement et acc√®de aux applications clients DIGIY.
          </div>
          <div class="module-foot">
            <button class="module-btn" type="button">Cr√©er un compte ‚Üí</button>
            <div class="module-meta">Clients</div>
          </div>
        </div>
      </div>

      <div class="module" id="openSearchPro">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üîé</div>
            <div class="module-titles">
              <div class="module-name">RECHERCHE PRO</div>
              <div class="module-tagline">GOOGLE DES M√âTIERS DIGIY</div>
            </div>
            <div class="module-badge badge-prio">NOUVEAU</div>
          </div>
          <div class="module-body">
            Un seul moteur pour trouver un pro : activit√©, ville, quartier, nom.
          </div>
          <div class="module-foot">
            <button class="module-btn" type="button">Chercher ‚Üí</button>
            <div class="module-meta">Universel</div>
          </div>
        </div>
      </div>

      <div class="module" data-external="https://beauville.github.io/commencer-a-payer/?product=DIGIY_FRET_CHAUFFEUR&role=driver" data-title="DIGIY FRET Chauffeur">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üöö</div>
            <div class="module-titles">
              <div class="module-name">DIGIY FRET CHAUFFEUR</div>
              <div class="module-tagline">TRANSPORT & LOGISTIQUE</div>
            </div>
            <div class="module-badge badge-prio">NOUVEAU</div>
          </div>
          <div class="module-body">
            Transport marchandises 0% commission. 4 paliers. GPS, paiements directs.
          </div>
          <div class="module-foot">
            <button class="module-btn" type="button">Choisir mon palier ‚Üí</button>
            <div class="module-meta">Chauffeurs FRET</div>
          </div>
        </div>
      </div>

      <div class="module" data-external="https://beauville.github.io/commencer-a-payer/?product=DIGIY_FRET_CLIENT&role=client" data-title="DIGIY FRET Client">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üì¶</div>
            <div class="module-titles">
              <div class="module-name">DIGIY FRET CLIENT</div>
              <div class="module-tagline">EXP√âDITIONS & ENVOIS</div>
            </div>
            <div class="module-badge badge-prio">NOUVEAU</div>
          </div>
          <div class="module-body">
            Envoie tes colis sans limite. Suivi GPS, paiements Wave/OM.
          </div>
          <div class="module-foot">
            <button class="module-btn" type="button">Choisir mon palier ‚Üí</button>
            <div class="module-meta">Clients FRET</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="ndimbalMap" data-title="DIGIY NDIMBAL MAP">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üó∫Ô∏è</div>
            <div class="module-titles">
              <div class="module-name">DIGIY NDIMBAL MAP</div>
              <div class="module-tagline">ENTRAIDE ‚Ä¢ COMMUNAUT√â</div>
            </div>
            <div class="module-badge badge-prio">GRATUIT</div>
          </div>
          <div class="module-body">
            L‚Äôannuaire g√©olocalis√© du S√©n√©gal : pros, quartiers, filtres et carte interactive.
          </div>
          <div class="module-foot">
            <button class="module-btn" type="button">Explorer ‚Üí</button>
            <div class="module-meta">Carte</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="go" data-title="DIGIY GO ‚Äî Espace client">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üßç‚Äç‚ôÇÔ∏è</div>
            <div class="module-titles">
              <div class="module-name">DIGIY GO</div>
              <div class="module-tagline">ESPACE CLIENT GLOBAL</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">
            Porte unique c√¥t√© client : r√©server, commander, contacter les pros, suivre ses demandes.
          </div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir DIGIY GO ‚Üí</button>
            <div class="module-meta">Clients</div>
          </div>
        </div>
      </div>

      <div class="module" data-external="https://beauville.github.io/vas-chez-digiy/" data-title="Vas chez DIGIY ‚Äî vid√©o">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üí°</div>
            <div class="module-titles">
              <div class="module-name">VAS CHEZ DIGIY</div>
              <div class="module-tagline">MANIFESTE VID√âO</div>
            </div>
            <div class="module-badge badge-prio">NOUVEAU</div>
          </div>
          <div class="module-body">La vid√©o manifeste. Une seule phrase pour tout : VAS CHEZ DIGIY.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Voir ‚Üí</button>
            <div class="module-meta">Viral</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="driver" data-title="DIGIY DRIVER ‚Äî Chauffeur">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üöó</div>
            <div class="module-titles">
              <div class="module-name">DIGIY DRIVER</div>
              <div class="module-tagline">CHAUFFEUR EN DIRECT</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">R√©serve un chauffeur en direct. Prix clair. Paiement direct.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Trouver ‚Üí</button>
            <div class="module-meta">0% commission</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="driverClient" data-title="DIGIY DRIVER Client">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üöï</div>
            <div class="module-titles">
              <div class="module-name">DIGIY DRIVER CLIENT</div>
              <div class="module-tagline">R√âSERVER UN CHAUFFEUR</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">Version client : r√©server, suivre, parler au chauffeur.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">R√©server ‚Üí</button>
            <div class="module-meta">Passagers</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="driverAbonnes" data-title="DIGIY DRIVER ‚Äî Abonn√©s">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">‚≠ê</div>
            <div class="module-titles">
              <div class="module-name">DRIVER ABONN√âS</div>
              <div class="module-tagline">ESPACE CHAUFFEURS PREMIUM</div>
            </div>
            <div class="module-badge badge-prio">ABONN√âS</div>
          </div>
          <div class="module-body">
            Espace r√©serv√© aux chauffeurs abonn√©s : acc√®s pro, options et suivi.
          </div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Chauffeurs</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="loc" data-title="DIGIY LOC ‚Äî Locations">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üè†</div>
            <div class="module-titles">
              <div class="module-name">DIGIY LOC</div>
              <div class="module-tagline">LOCATION SANS OTA</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">Alternative Booking/Airbnb, sans commission, en direct.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">H√©bergements</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="resto" data-title="DIGIY RESTO ‚Äî Vitrine & recherche">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üçΩÔ∏è</div>
            <div class="module-titles">
              <div class="module-name">DIGIY RESTO</div>
              <div class="module-tagline">VITRINE RESTAURANT</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">Menus, photos, horaires, localisation, contact. R√©servation directe.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Voir ‚Üí</button>
            <div class="module-meta">Resto</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="resa" data-title="DIGIY R√âSA ‚Äî R√©servations">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üìÖ</div>
            <div class="module-titles">
              <div class="module-name">DIGIY R√âSA</div>
              <div class="module-tagline">R√âSERVATIONS & PLANNING</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">R√©server tables, services, activit√©s, rendez-vous. Pro garde le contr√¥le.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Planning</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="pos" data-title="DIGIY POS ‚Äî Boutique">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üßæ</div>
            <div class="module-titles">
              <div class="module-name">DIGIY POS</div>
              <div class="module-tagline">VITRINE BOUTIQUE</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">Caisse pro + vitrine. Visible. Organis√©e. Sans friction.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Commer√ßants</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="pay" data-title="DIGIY PAY ‚Äî Paiements">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üí≥</div>
            <div class="module-titles">
              <div class="module-name">DIGIY PAY</div>
              <div class="module-tagline">WALLET UNIFI√â</div>
            </div>
            <div class="module-badge badge-prio">PRIORIT√â</div>
          </div>
          <div class="module-body">Encaissements Wave / OM / CB. Historique et suivi.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Argent</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="build" data-title="DIGIY BUILD ‚Äî Artisans">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üèóÔ∏è</div>
            <div class="module-titles">
              <div class="module-name">DIGIY BUILD</div>
              <div class="module-tagline">ARTISANS & BTP</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">Devis, galerie, contact, prestations. Humain. Direct.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Artisans</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="market" data-title="DIGIY MARKET ‚Äî Marketplace">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üõçÔ∏è</div>
            <div class="module-titles">
              <div class="module-name">DIGIY MARKET</div>
              <div class="module-tagline">MARKETPLACE LOCALE</div>
            </div>
            <div class="module-badge badge-prio">PRIORIT√â</div>
          </div>
          <div class="module-body">Acheter/vendre local. Annonces propres. Sans commission.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Marketplace</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="job" data-title="DIGIY JOBS ‚Äî Emploi">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üíº</div>
            <div class="module-titles">
              <div class="module-name">DIGIY JOBS</div>
              <div class="module-tagline">EMPLOI & TALENTS</div>
            </div>
            <div class="module-badge badge-prio">PRIORIT√â</div>
          </div>
          <div class="module-body">Offres, candidatures, profils. Pont propre talents‚Äìemployeurs.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Jobs</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="explore" data-title="DIGIY EXPLORE ‚Äî Sorties">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üß≠</div>
            <div class="module-titles">
              <div class="module-name">DIGIY EXPLORE</div>
              <div class="module-tagline">SORTIES & VISITES</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">D√©couvre quoi faire autour de toi. Appelle & r√©serve direct.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Ouvrir ‚Üí</button>
            <div class="module-meta">Explorer</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="inscription" data-title="Inscription DIGIY (Pro)">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üìù</div>
            <div class="module-titles">
              <div class="module-name">INSCRIPTION DIGIY</div>
              <div class="module-tagline">NOUVEAU COMPTE PRO</div>
            </div>
            <div class="module-badge badge-prio">NOUVEAU</div>
          </div>
          <div class="module-body">Inscription intelligente. Choisis ton module, on calcule ton tarif.</div>
          <div class="module-foot">
            <button class="module-btn" type="button">S'inscrire ‚Üí</button>
            <div class="module-meta">Pro</div>
          </div>
        </div>
      </div>

      <div class="module" data-open="dashboard" data-title="Mon Espace DIGIY (abonn√©)">
        <div class="module-inner">
          <div class="module-header">
            <div class="module-icon">üéØ</div>
            <div class="module-titles">
              <div class="module-name">MON ESPACE DIGIY</div>
              <div class="module-tagline">ESPACE ABONN√â</div>
            </div>
            <div class="module-badge">LIVE</div>
          </div>
          <div class="module-body">Ton profil, tes infos, ton contr√¥le. (Espace pro.)</div>
          <div class="module-foot">
            <button class="module-btn" type="button">Mon Espace ‚Üí</button>
            <div class="module-meta">Autonomie</div>
          </div>
        </div>
      </div>

    </div>
  </section>

  <section class="pricing">
    <h2 class="pricing-title">Un seul abonnement. Tout ton √©cosyst√®me.</h2>
    <p class="pricing-subtitle">
      Tu ne payes pas √† chaque course/vente : tu payes une fois par mois, tu gardes <strong>100%</strong>.
    </p>

    <div class="pricing-row">
      <div class="pricing-card">
        <div class="pricing-label">Offre Pionniers</div>
        <div class="pricing-price">29,900 FCFA / mois</div>
        <div class="pricing-note">Prix bloqu√© <strong>√Ä VIE</strong> pour les premiers.</div>
        <ul class="pricing-list">
          <li>Acc√®s √† tous les modules DIGIY</li>
          <li>0% de commission</li>
          <li>Support humain WhatsApp</li>
          <li>Mises √† jour incluses</li>
        </ul>

        <a href="#" id="btnSeePacks" class="pricing-cta" style="margin-bottom:10px;display:block;text-align:center;">
          Voir tous les packs DIGIY ‚Üí
        </a>

        <button id="btnFullSignup" class="btn btn-secondary" style="width:100%;padding:0.7rem 1.4rem;font-size:0.9rem;text-align:center;display:inline-block;margin-top:10px;" type="button">
          Inscription compl√®te ‚Üí
        </button>
      </div>

      <div class="pricing-text">
        DIGIYLYFE est con√ßu pour les travailleurs : commer√ßants, artisans, chauffeurs,
        restaurateurs, h√©bergeurs. <br><br>
        Les plateformes prennent une part de ta sueur.
        DIGIY fait l‚Äôinverse : <strong>un HUB, tu gardes tout le reste.</strong>
      </div>
    </div>
  </section>

  <footer>
    <div class="footer-tagline">L‚ÄôAfrique enracin√©e, connect√©e au monde ‚Äî DIGIYLYFE ‚ôæÔ∏è</div>
    <div class="footer-links">
      <a href="https://digiylyfe.com" class="footer-link" target="_blank" rel="noopener">Accueil DIGIYLYFE</a>
      <a href="#" id="footerOrderHub" class="footer-link">Commander le HUB</a>
      <a href="#" id="footerLogin" class="footer-link">Se connecter</a>
      <a href="#" id="footerSpace" class="footer-link">Mon Espace</a>
      <a href="https://wa.me/221771342889" class="footer-link" target="_blank" rel="noopener">Contact WhatsApp</a>
      <a href="https://beauville.github.io/DIGIY/" class="footer-link" target="_blank" rel="noopener">Tarifs d√©taill√©s</a>
    </div>
    <p>¬© 2024 DIGIYLYFE ‚Äî Made in S√©n√©gal ‚Ä¢ 0% commission ‚Ä¢ Paiement direct</p>
  </footer>

</div>

<!-- Floating bubbles -->
<a href="https://beauville.github.io/digiy/" class="tarif-bubble" target="_blank" rel="noopener">
  <div class="tarif-badge-icon">F</div>
  <div>Tarifs DIGIY</div>
</a>

<a href="https://beauville.github.io/digiy-chat-pro/" class="chat-bubble" target="_blank" rel="noopener">
  <div class="chat-badge-icon">üí¨</div>
  <div class="chat-bubble-text">
    DIGIY CHAT PRO
    <small>Assistance & clients</small>
  </div>
</a>

<a href="https://wa.me/221771342889?text=SOS%20DIGIY%20HUB%20%E2%80%94%20J%27ai%20besoin%20d%27aide" class="sos-bubble" target="_blank" rel="noopener">
  <div class="sos-badge-icon">SOS</div>
  <div class="sos-bubble-text">
    SOS DIGIY
    <small>Besoin d'aide</small>
  </div>
</a>

<!-- =========================
   HUB OVERLAY (OPEN INSIDE)
========================= -->
<div id="hubOverlay" aria-hidden="true">
  <div class="hubOverlayCard" role="dialog" aria-modal="true" aria-label="Module DIGIY">
    <div class="hubOverlayTop">
      <div class="hubOverlayLeft">
        <div class="hubOverlayBrand">
          <span>‚ôæÔ∏è DIGIY HUB</span>
          <span class="hubOverlayBadge">INTERNE</span>
        </div>
        <div id="hubOverlayTitle" class="hubOverlayTitle">‚Äî</div>
      </div>
      <div class="hubOverlayActions">
        <button id="hubBackBtn" class="hubOverlayBtn back" type="button">‚Üê Retour HUB</button>
        <button id="hubCloseBtn" class="hubOverlayBtn close" type="button">‚úñ Fermer</button>
      </div>
    </div>
    <iframe id="hubFrame" class="hubOverlayFrame" title="Module DIGIY"></iframe>
  </div>
</div>

<!-- =========================
   MODAL SEARCH PRO (HTML)
========================= -->
<div id="searchProModal" class="digiy-modal-overlay" aria-hidden="true">
  <div class="digiy-modal" role="dialog" aria-modal="true" aria-label="Recherche PRO DIGIY">
    <div class="digiy-modal-card">

      <div style="display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:12px;">
        <div style="font-family:Outfit,sans-serif; font-weight:950; letter-spacing:.06em; text-transform:uppercase;">
          üîé Recherche PRO ‚Äî M√©tiers DIGIY
        </div>
        <button id="closeSearchPro" class="btn btn-secondary" type="button" style="padding:.6rem 1.1rem;font-size:.85rem;">
          ‚úñ Fermer
        </button>
      </div>

      <div class="digiy-modal-row">
        <input id="sp_q" class="digiy-input" placeholder='Ex: "fatou plateau" / "chauffeur dakar"' />
        <input id="sp_city" class="digiy-input" placeholder="Ville : Dakar, Thi√®s..." />
        <select id="sp_module" class="digiy-select">
          <option value="all" selected>ü¶Ö Tous m√©tiers</option>
          <option value="resto">üçΩÔ∏è Resto</option>
          <option value="loc">üè† Loc</option>
          <option value="chauffeur">üöó Chauffeur</option>
          <option value="market">üõçÔ∏è Boutique</option>
          <option value="build">üèóÔ∏è Artisan</option>
          <option value="job">üíº Jobs</option>
        </select>
        <button id="sp_btn" class="btn btn-primary" type="button" style="padding:.85rem 1.2rem;font-size:.85rem;">
          Chercher ‚Üí
        </button>
      </div>

      <div id="sp_status" style="color:#cbd5e1; font-weight:650; margin:8px 2px;">‚Äî</div>

      <div id="sp_results" class="digiy-results-grid"></div>

      <div id="sp_empty" style="display:none; margin-top:12px; padding:18px; border-radius:16px; border:1px dashed rgba(148,163,184,.45); color:#cbd5e1;">
        üòï Aucun r√©sultat. Essaie "dakar", "plateau", "fatou", "chauffeur".
      </div>

      <div id="sp_debug"></div>

    </div>
  </div>
</div>

<!-- ‚ôæÔ∏è NDIMBAL ‚Äî BOUTON FIXE FINAL -->
<button id="digiy-help-btn" type="button" aria-label="NDIMBAL">‚ôæÔ∏è NDIMBAL</button>

<div id="digiy-ndimbal" aria-hidden="true">
  <div class="digiy-box" role="dialog" aria-modal="true" aria-label="Assistance DIGIY">
    <div class="digiy-title">‚ôæÔ∏è NDIMBAL</div>
    <p class="digiy-text"><strong>Naka nga def fr√©rot ?</strong><br>Je suis l√† pour t‚Äôaider simplement.</p>

    <div id="digiy-last" style="display:none;margin:10px 0 6px"></div>

    <div id="digiy-actions">
      <button class="digiy-act" data-action="sell" type="button">üõí Vendre / Encaisser</button>
      <button class="digiy-act" data-action="job" type="button">üíº Trouver du travail</button>
      <button class="digiy-act" data-action="info" type="button">üì± Comprendre DIGIY</button>
    </div>

    <button class="digiy-close" id="digiy-close" type="button">‚ùå Quitter</button>
  </div>
</div>

<style>
  #digiy-help-btn{
    position:fixed !important;
    right:20px !important;
    bottom:20px !important;
    z-index:2147483647 !important;
    display:block !important;
    visibility:visible !important;
    opacity:1 !important;
    pointer-events:auto !important;
    cursor:pointer !important;

    border:none !important;
    border-radius:999px !important;
    padding:14px 18px !important;
    font-weight:950 !important;
    font-size:15px !important;
    color:#052e16 !important;
    background:linear-gradient(135deg,#16a34a,#22c55e) !important;
    box-shadow:0 16px 40px rgba(0,0,0,.35) !important;
  }
  #digiy-help-btn:active{ transform:translateY(1px); }

  #digiy-ndimbal{
    display:none;
    position:fixed; inset:0;
    z-index:2147483646;
    background:rgba(0,0,0,.55);
    padding:18px;
  }
  #digiy-ndimbal.show{ display:block; }

  .digiy-box{
    max-width:360px;
    margin:18vh auto 0;
    background:#fff;
    border-radius:18px;
    padding:16px;
    box-shadow:0 18px 40px rgba(0,0,0,.25);
    border:1px solid rgba(2,6,23,.08);
    text-align:center;
  }

  .digiy-title{
    font-weight:950;
    letter-spacing:.08em;
    color:#16a34a;
    margin-bottom:6px;
  }
  .digiy-text{
    margin:8px 0 12px;
    color:#0f172a;
    line-height:1.35;
  }

  .digiy-act{
    width:100%;
    border:none;
    border-radius:14px;
    padding:11px 12px;
    margin:6px 0;
    font-weight:900;
    cursor:pointer;
    background:#f1f5f9;
    color:#0f172a;
  }
  .digiy-act:hover{ filter:brightness(.98); }

  .digiy-close{
    width:100%;
    border:none;
    border-radius:14px;
    padding:10px 12px;
    margin-top:8px;
    font-weight:900;
    cursor:pointer;
    background:#0f172a;
    color:#fff;
  }

  /* ‚úÖ NDIMBAL Continue/Reset (clean, stable) */
  .nd-btn-primary{
    width:100%;
    border:none;
    border-radius:12px;
    padding:10px 12px;
    font-family:'Outfit',sans-serif;
    font-weight:950;
    cursor:pointer;
    background:linear-gradient(135deg,#16a34a,#22c55e);
    color:#052e16;
  }
  .nd-btn-secondary{
    width:100%;
    border:none;
    border-radius:12px;
    padding:10px 12px;
    margin-top:6px;
    font-family:'Outfit',sans-serif;
    font-weight:900;
    cursor:pointer;
    background:#f1f5f9;
    color:#0f172a;
  }
  .nd-btn-primary:active,.nd-btn-secondary:active{ transform:translateY(1px); }
</style>

<!-- =========================
   SCRIPTS (CLEAN ORDER)
========================= -->
<script>
  /* =========================
     ‚úÖ HUB BASE OFFICIEL (GitHub Pages)
  ========================= */
  const HUB_BASE = "https://beauville.github.io/digiy-hub/";
  const HUB = (p) => HUB_BASE + String(p || "").replace(/^\//, "");

  /* =========================
     ‚úÖ LINKS (FIXED + AJOUT DRIVER ABONNES)
  ========================= */
  const LINKS = {
    go:           "https://beauville.github.io/digiy-go/",
    driver:       "https://beauville.github.io/digiy-driver/",
    driverClient: "https://beauville.github.io/digiy-driver-client/",
    driverAbonnes:"https://beauville.github.io/drivers-abonnes/",
    loc:          "https://beauville.github.io/digiy-loc/",
    resto:        "https://beauville.github.io/digiy-resto/",
    resa:         "https://beauville.github.io/digiy-resa-table/",
    pos:          "https://beauville.github.io/Digiy-pos-pro/",
    pay:          "https://beauville.github.io/digiy-pay/",
    build:        "https://beauville.github.io/digiy-build/",
    market:       "https://beauville.github.io/digiy-market/",
    job:          "https://beauville.github.io/digiy-jobs/",
    explore:      "https://beauville.github.io/digiy-explore/",
    notable:      "https://beauville.github.io/digiy-notable/",
    bonPlan:      "https://beauville.github.io/digiy-bonne-affaire/",
    ndimbalMap:   "https://beauville.github.io/digiy-mdimbal-map/",
    inscription:  "https://beauville.github.io/inscription-digiy/",
    inscriptionClient: "https://beauville.github.io/inscription-client.html",
    dashboard:    "https://beauville.github.io/mon-espace-digiy/",
    hubDrive:     "https://beauville.github.io/digiy-hub-drive/"
  };

  /* =========================
     ‚úÖ HUB OVERLAY OPEN/CLOSE
  ========================= */
  const hubOverlay = document.getElementById("hubOverlay");
  const hubFrame   = document.getElementById("hubFrame");
  const hubTitle   = document.getElementById("hubOverlayTitle");
  const hubBackBtn = document.getElementById("hubBackBtn");
  const hubCloseBtn= document.getElementById("hubCloseBtn");

  function openInside(url, title){
    // ‚úÖ ferme NDIMBAL si ouvert (anti-chevauchement)
    document.getElementById("digiy-ndimbal")?.classList.remove("show");

    // ‚úÖ ferme la modale Search Pro si ouverte
    const spm = document.getElementById("searchProModal");
    if(spm){
      spm.style.display = "none";
      spm.setAttribute("aria-hidden","true");
    }

    if(!hubOverlay || !hubFrame) { window.location.href = url; return; }
    if(hubTitle) hubTitle.textContent = title || url;
    hubFrame.src = url;
    hubOverlay.classList.add("show");
    hubOverlay.setAttribute("aria-hidden","false");
    document.body.style.overflow = "hidden";
  }

  function closeInside(){
    if(!hubOverlay || !hubFrame) return;
    hubOverlay.classList.remove("show");
    hubOverlay.setAttribute("aria-hidden","true");
    hubFrame.src = "about:blank";
    document.body.style.overflow = "";
  }

  window.openInside = openInside;
  window.closeInside = closeInside;

  hubBackBtn?.addEventListener("click", closeInside);
  hubCloseBtn?.addEventListener("click", closeInside);
  hubOverlay?.addEventListener("click", (e)=>{ if(e.target === hubOverlay) closeInside(); });
  document.addEventListener("keydown", (e)=>{ if(e.key === "Escape" && hubOverlay?.classList.contains("show")) closeInside(); });

  /* =========================
     ‚úÖ CLICK MODULES
  ========================= */
  function openModuleKey(key, title){
    const url = LINKS[key];
    if(!url){ alert("Module en pr√©paration."); return; }
    openInside(url, title || `DIGIY ‚Ä¢ ${key}`);
  }

  document.addEventListener("click", (e)=>{
    const btn = e.target.closest(".module-btn");
    if(btn){
      const card = btn.closest(".module");
      if(card) card.click();
      return;
    }

    const card = e.target.closest(".module");
    if(!card) return;

    const ext = card.getAttribute("data-external");
    const key = card.getAttribute("data-open");
    const ttl = card.getAttribute("data-title") || "DIGIY";

    if(ext){
      window.open(ext, "_blank", "noopener");
      return;
    }
    if(key){
      openModuleKey(key, ttl);
      return;
    }
  });

  /* =========================
     ‚úÖ HEAD BUTTONS wired
  ========================= */
  document.getElementById("btnRestoEngine")?.addEventListener("click", ()=>{
    openInside(LINKS.resto, "üîç DIGIY RESTO ‚Äî Recherche");
  });

  document.getElementById("btnLogin")?.addEventListener("click", ()=>{
    openInside(LINKS.dashboard, "üîê Connexion / Mon Espace");
  });

  document.getElementById("btnGetHub")?.addEventListener("click", ()=>{
    openInside(LINKS.inscription, "ü¶Ö Commander / Inscription HUB");
  });

  // ‚úÖ FIX packs.html (base officielle du hub)
  document.getElementById("btnSeePacks")?.addEventListener("click", (e)=>{
    e.preventDefault();
    openInside(HUB("packs.html"), "üì¶ Packs DIGIY");
  });

  document.getElementById("btnFullSignup")?.addEventListener("click", ()=>{
    openInside(LINKS.inscription, "üìù Inscription compl√®te");
  });

  document.getElementById("footerOrderHub")?.addEventListener("click", (e)=>{ e.preventDefault(); openInside(LINKS.inscription,"ü¶Ö Commander le HUB"); });
  document.getElementById("footerLogin")?.addEventListener("click", (e)=>{ e.preventDefault(); openInside(LINKS.dashboard,"üîê Se connecter"); });
  document.getElementById("footerSpace")?.addEventListener("click", (e)=>{ e.preventDefault(); openInside(LINKS.dashboard,"üéØ Mon Espace"); });

  /* =========================
     ‚úÖ HOME brand click closes overlay
  ========================= */
  document.getElementById("homeBrand")?.addEventListener("click", (e)=>{
    e.preventDefault();
    closeInside();
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  /* =========================
     ‚úÖ Pioneers counter (cosmetic)
  ========================= */
  (function(){
    const pioneersEl = document.getElementById("pioneersLeft");
    if(!pioneersEl) return;

    let pioneersLeft = parseInt(pioneersEl.textContent, 10);
    if(Number.isNaN(pioneersLeft)) pioneersLeft = 87;

    setInterval(() => {
      if(pioneersLeft > 83 && Math.random() > 0.7){
        pioneersLeft--;
        pioneersEl.textContent = pioneersLeft;
      }
    }, 30000);
  })();
</script>

<!-- ‚úÖ SUPABASE CDN (ONE TIME) -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
/* =========================
   üîê SUPABASE ‚Äî CLIENT UNIQUE
   ‚úÖ Global: SB
========================= */
const SUPABASE_URL = "https://wesqmwjjtsefyjnluosj.supabase.co";
const SUPABASE_ANON_KEY =
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsImV4cCI6MjA4MDc1NDg4Mn0.dZfYOc2iL2_wRYL3zExZFsFSBK6AbMeOid2LrIjcTdA";

const createClient = globalThis.supabase?.createClient;
if(!createClient){
  console.error("Supabase CDN non charg√©. V√©rifie l'ordre des scripts.");
}else{
  globalThis.SB = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
}
</script>

<script>
/* =========================
   üîé SEARCH PRO ‚Äî V2 (CLEAN)
   -> utilise globalThis.SB (safe)
========================= */
const spDebug = document.getElementById("sp_debug");
function dbg(msg){
  if(!spDebug) return;
  spDebug.style.display = "block";
  spDebug.textContent += msg + "\n";
}

const modal     = document.getElementById('searchProModal');
const openCard  = document.getElementById('openSearchPro');
const closeBtn  = document.getElementById('closeSearchPro');

const spQ       = document.getElementById('sp_q');
const spCity    = document.getElementById('sp_city');
const spModule  = document.getElementById('sp_module');
const spBtn     = document.getElementById('sp_btn');
const spStatus  = document.getElementById('sp_status');
const spResults = document.getElementById('sp_results');
const spEmpty   = document.getElementById('sp_empty');

let userPos = null; // {lat, lon}

function esc(s){
  return String(s ?? '')
    .replaceAll('&','&amp;')
    .replaceAll('<','&lt;')
    .replaceAll('>','&gt;')
    .replaceAll('"','&quot;')
    .replaceAll("'","&#039;");
}
function setStatus(txt){ if(spStatus) spStatus.textContent = txt; }
function clearResults(){
  if(spResults) spResults.innerHTML = '';
  if(spEmpty) spEmpty.style.display = 'none';
}
function showEmpty(){ if(spEmpty) spEmpty.style.display = 'block'; }

function openModal(){
  if(!modal) return;
  modal.style.display = 'block';
  modal.setAttribute('aria-hidden','false');
  clearResults();
  setStatus('‚Äî');
  if(spDebug){ spDebug.style.display='none'; spDebug.textContent=''; }
  setTimeout(()=> spQ?.focus(), 50);
  tryGetGeolocSilently();
}
function closeModal(){
  if(!modal) return;
  modal.style.display = 'none';
  modal.setAttribute('aria-hidden','true');
}
openCard?.addEventListener('click', openModal);
closeBtn?.addEventListener('click', closeModal);
modal?.addEventListener('click', e => { if(e.target === modal) closeModal(); });
document.addEventListener('keydown', e => {
  if(e.key === 'Escape' && modal?.style.display === 'block') closeModal();
});

function tryGetGeolocSilently(){
  if(userPos) return;
  if(!navigator.geolocation) return;
  navigator.geolocation.getCurrentPosition(
    (pos)=>{
      userPos = { lat: pos.coords.latitude, lon: pos.coords.longitude };
      dbg(`üìç Position OK: ${userPos.lat.toFixed(5)}, ${userPos.lon.toFixed(5)}`);
    },
    (err)=>{
      dbg(`üìç Position refus√©e / indispo (${err.code})`);
    },
    { enableHighAccuracy:false, timeout:4000, maximumAge:600000 }
  );
}

function kmBetween(lat1, lon1, lat2, lon2){
  const toRad = x => (x*Math.PI)/180;
  const R = 6371;
  const dLat = toRad(lat2-lat1);
  const dLon = toRad(lon2-lon1);
  const a =
    Math.sin(dLat/2)**2 +
    Math.cos(toRad(lat1))*Math.cos(toRad(lat2))*Math.sin(dLon/2)**2;
  return 2*R*Math.asin(Math.sqrt(a));
}

function renderResults(rows){
  if(!spResults) return;
  spResults.innerHTML = '';

  if(!rows || !rows.length){ showEmpty(); return; }

  if(userPos){
    rows = rows.map(r=>{
      const lat = Number(r.lat ?? r.latitude ?? null);
      const lon = Number(r.lon ?? r.lng ?? r.longitude ?? null);
      if(Number.isFinite(lat) && Number.isFinite(lon)){
        const d = kmBetween(userPos.lat, userPos.lon, lat, lon);
        return { ...r, _km: d };
      }
      return { ...r, _km: null };
    }).sort((a,b)=>{
      if(a._km === null && b._km === null) return 0;
      if(a._km === null) return 1;
      if(b._km === null) return -1;
      return a._km - b._km;
    });
  }

  rows.forEach(r=>{
    const name = r.business_name || r.full_name || 'Sans nom';
    const city = r.city || '';
    const quartier = r.quartier || '';
    const modules = Array.isArray(r.modules) ? r.modules : [];
    const id = r.id || r.pro_id;
    const km = (r._km !== null && Number.isFinite(r._km)) ? `${r._km.toFixed(1)} km` : '';

    const card = document.createElement('div');
    card.className = 'digiy-result';
    card.innerHTML = `
      <div style="display:flex;justify-content:space-between;gap:8px;margin-bottom:6px;align-items:flex-start">
        <div style="font-weight:950">${esc(name)}</div>
        <div style="display:flex;gap:6px;align-items:center;flex-wrap:wrap;justify-content:flex-end">
          ${km ? `<span class="digiy-pill">üìç ${esc(km)}</span>` : ``}
          <span class="digiy-pill">ü¶Ö PRO</span>
        </div>
      </div>

      <div style="font-size:.9rem;opacity:.85">
        ${city ? 'üìç '+esc(city) : ''}${quartier ? ' ‚Ä¢ '+esc(quartier) : ''}
      </div>

      <div style="margin-top:8px;display:flex;flex-wrap:wrap;gap:6px">
        ${modules.slice(0,6).map(m=>`<span class="digiy-pill">${esc(m)}</span>`).join('')}
      </div>
    `;

    card.onclick = ()=>{
      if(!id) return alert("ID manquant");
      openInside(HUB(`pro-detail.html?id=${encodeURIComponent(id)}`), `ü¶Ö Profil PRO ‚Äî ${name}`);
      closeModal();
    };

    spResults.appendChild(card);
  });
}

async function searchPros(){
  clearResults();
  setStatus('Recherche‚Ä¶');

  const SB = globalThis.SB;
  if(!SB){
    dbg("SB non pr√™t (Supabase).");
    setStatus("Supabase pas pr√™t");
    return;
  }

  const q = (spQ?.value || '').trim();
  const city = (spCity?.value || '').trim();
  const mod = (spModule?.value || 'all');

  try{
    const payload = {
      p_q: q || null,
      p_city: city || null,
      p_module: (mod && mod !== 'all') ? mod : null,
      p_limit: 50,
      p_lat: userPos?.lat ?? null,
      p_lon: userPos?.lon ?? null,
      p_radius_km: 25
    };

    const { data, error } = await SB.rpc('search_pros_v2', payload);
    if(!error && Array.isArray(data)){
      setStatus(`${data.length} r√©sultat(s)`);
      renderResults(data);
      return;
    }
    if(error){
      dbg("RPC search_pros_v2 indispo ‚Üí fallback");
      dbg(error.message || String(error));
    }
  }catch(e){
    dbg("RPC exception ‚Üí fallback");
    dbg(String(e));
  }

  let query = SB.from('pros_public').select('*').limit(50);

  if(q){
    query = query.or(
      `business_name.ilike.%${q}%,full_name.ilike.%${q}%,phone.ilike.%${q}%,quartier.ilike.%${q}%`
    );
  }
  if(city) query = query.eq('city', city);
  if(mod && mod !== 'all') query = query.contains('modules', [mod]);

  const { data, error } = await query;
  if(error){
    dbg(error.message || String(error));
    setStatus('Erreur');
    return;
  }

  setStatus(`${(data||[]).length} r√©sultat(s)`);
  renderResults(data || []);
}

spBtn?.addEventListener('click', searchPros);
spQ?.addEventListener('keydown', e => { if(e.key === 'Enter') searchPros(); });
dbg("Search PRO V2 pr√™t ‚úÖ");
</script>

<script>
/* =========================
   ‚ôæÔ∏è NDIMBAL ‚Äî V1.3 (HUB SAFE)
========================= */
(function(){
  const routes = {
    sell: "https://beauville.github.io/digiy-pay/",
    job:  "https://beauville.github.io/digiy-jobs/",
    info: "https://digiylyfe.com/"
  };

  const labels = {
    sell: "üõí Vendre / Encaisser",
    job:  "üíº Trouver du travail",
    info: "üì± Comprendre DIGIY"
  };

  const LS_KEY = "digiy_ndimbal_last_action";
  const getLast = ()=>{ try { return localStorage.getItem(LS_KEY) || ""; } catch(e){ return ""; } };
  const setLast = (a)=>{ try { localStorage.setItem(LS_KEY, a); } catch(e){} };

  function openInHub(url, title){
    if(typeof window.openInside === "function"){
      window.openInside(url, title || "‚ôæÔ∏è NDIMBAL");
      return;
    }
    window.location.href = url;
  }

  function init(){
    const btn = document.getElementById("digiy-help-btn");
    const modal = document.getElementById("digiy-ndimbal");
    const closeBtn = document.getElementById("digiy-close");
    const lastBox = document.getElementById("digiy-last");
    const actionsBox = document.getElementById("digiy-actions");

    if(!btn || !modal || !closeBtn) return;

    function openDigiy(){
      // ‚úÖ si hub overlay ouvert, on le garde, mais NDIMBAL s‚Äôaffiche au-dessus (normal)
      modal.classList.add("show");
      modal.setAttribute("aria-hidden","false");
      if(actionsBox) actionsBox.style.display = "block";

      const last = getLast();
      if(last && routes[last] && lastBox){
        lastBox.style.display = "block";
        lastBox.innerHTML = `
          <div style="background:#ecfdf5;border:1px solid #bbf7d0;border-radius:14px;padding:10px">
            <div style="font-weight:950;color:#065f46;margin-bottom:6px">Reprendre ?</div>

            <button id="digiy-continue" type="button" class="nd-btn-primary">
              Continuer : ${labels[last]}
            </button>

            <button id="digiy-reset" type="button" class="nd-btn-secondary">
              Non, autre chose
            </button>
          </div>
        `;
        if(actionsBox) actionsBox.style.display = "none";

        const cont = document.getElementById("digiy-continue");
        const reset = document.getElementById("digiy-reset");

        if(cont) cont.onclick = ()=>{
          closeDigiy();
          openInHub(routes[last], `‚ôæÔ∏è NDIMBAL ‚Äî ${labels[last]}`);
        };
        if(reset) reset.onclick = ()=>{
          lastBox.style.display="none";
          lastBox.innerHTML="";
          if(actionsBox) actionsBox.style.display="block";
        };
      }else{
        if(lastBox){ lastBox.style.display="none"; lastBox.innerHTML=""; }
        if(actionsBox) actionsBox.style.display="block";
      }
    }

    function closeDigiy(){
      modal.classList.remove("show");
      modal.setAttribute("aria-hidden","true");
    }

    btn.addEventListener("click", (e)=>{ e.preventDefault(); e.stopPropagation(); openDigiy(); }, true);
    closeBtn.addEventListener("click", closeDigiy);
    modal.addEventListener("click", (e)=>{ if(e.target === modal) closeDigiy(); });
    document.addEventListener("keydown", (e)=>{ if(e.key === "Escape") closeDigiy(); });

    document.querySelectorAll(".digiy-act").forEach(b=>{
      b.addEventListener("click", ()=>{
        const action = b.getAttribute("data-action");
        if(action && routes[action]) setLast(action);
        closeDigiy();
        const url = routes[action];
        if(url) openInHub(url, `‚ôæÔ∏è NDIMBAL ‚Äî ${labels[action] || action}`);
      });
    });
  }

  if(document.readyState === "loading"){
    document.addEventListener("DOMContentLoaded", init);
  }else{
    init();
  }
})();
</script>

</body>
</html>
