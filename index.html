<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="theme-color" content="#061b14"/>
  <title>DIGIY QR FACTORY — Slug → QR + Liens</title>

  <style>
    :root{
      --bg:#061b14;
      --card:#0b2a1f;
      --line:rgba(255,255,255,.12);
      --text:#eafff1;
      --muted:rgba(234,255,241,.7);
      --gold:#facc15;
      --green:#22c55e;
      --red:#ef4444;
      --radius:18px;
    }

    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:system-ui,-apple-system,sans-serif;
      background:var(--bg);
      color:var(--text);
      padding:22px;
    }

    h1{
      font-size:22px;
      font-weight:950;
      margin-bottom:6px;
      color:var(--gold);
    }

    p{color:var(--muted);margin-bottom:14px}

    .box{
      background:rgba(255,255,255,.04);
      border:1px solid var(--line);
      border-radius:var(--radius);
      padding:16px;
      margin-bottom:16px;
    }

    input{
      width:100%;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--line);
      outline:none;
      font-size:15px;
      background:rgba(255,255,255,.06);
      color:var(--text);
      margin-top:8px;
    }

    button{
      margin-top:12px;
      width:100%;
      padding:12px;
      border:none;
      border-radius:14px;
      font-weight:950;
      cursor:pointer;
      background:linear-gradient(135deg,var(--gold),#fde68a);
      color:#111;
    }

    .list{
      display:grid;
      gap:12px;
      margin-top:16px;
    }

    .item{
      padding:14px;
      border-radius:16px;
      background:rgba(255,255,255,.03);
      border:1px solid var(--line);
    }

    .top{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
    }

    .name{font-weight:950}
    .tag{font-size:12px;color:var(--muted)}

    .link{
      margin-top:8px;
      font-size:13px;
      word-break:break-all;
      color:#fff;
    }

    .copy{
      border:1px solid var(--line);
      background:rgba(255,255,255,.08);
      color:var(--text);
      padding:8px 10px;
      border-radius:12px;
      cursor:pointer;
      font-weight:850;
    }

    .copy:active{transform:translateY(1px)}
  </style>
</head>

<body>

  <h1>♾️ DIGIY QR FACTORY</h1>
  <p>Slug → QR + liens (HUB / CAISSE / LOC / RESTO / TEMP…)</p>

  <div class="box">
    <div><strong>Slug :</strong></div>
    <input id="slugInput" placeholder="ex: chez-astou-saly" />
    <button id="btnGen">⚡ Générer</button>
  </div>

  <div class="list" id="results"></div>

<script>
/* ===============================
   DIGIY QR FACTORY — FULL CLEAN
   ✅ Avec Température Business ajouté
================================ */

const BASE = {
  hub:        "https://beauville.github.io/digiy-hub/",
  caisse:     "https://beauville.github.io/Digiy-caisse-pro/index.html",
  espacePro:  "https://beauville.github.io/espace-pro/",
  espaceClient:"https://beauville.github.io/digiy-espace-client/",
  loc:        "https://beauville.github.io/digiy-loc/",
  resto:      "https://beauville.github.io/digiy-resto/",
  resa:       "https://beauville.github.io/digiy-resa-table/",
  notable:    "https://beauville.github.io/digiy-notable/",

  /* ✅ AJOUT OFFICIEL */
  temperature:"https://beauville.github.io/digiy-hub/Temp%C3%A9rature-Business.html"
};

const LABELS = {
  hub: "DIGIY HUB — Entrée Cockpit",
  caisse: "DIGIY CAISSE PRO — POS",
  espacePro: "ESPACE PRO — Portail",
  espaceClient: "ESPACE CLIENT — Suivi",
  loc: "DIGIY LOC — Location",
  resto: "DIGIY RESTO — Restaurant",
  resa: "RESA TABLE — Réservations",
  notable: "DIGIY NOTABLE — Visibilité",

  /* ✅ AJOUT */
  temperature: "TEMPÉRATURE BUSINESS — KPI SWARM"
};

function buildUrl(base, slug){
  const u = new URL(base);
  u.searchParams.set("slug", slug);
  return u.toString();
}

function copyText(txt){
  navigator.clipboard.writeText(txt);
  alert("✅ Lien copié !");
}

function render(slug){
  const wrap = document.getElementById("results");
  wrap.innerHTML = "";

  Object.keys(BASE).forEach((key)=>{
    const url = buildUrl(BASE[key], slug);

    const div = document.createElement("div");
    div.className="item";

    div.innerHTML = `
      <div class="top">
        <div>
          <div class="name">${LABELS[key]}</div>
          <div class="tag">${key.toUpperCase()}</div>
        </div>
        <button class="copy">Copier</button>
      </div>
      <div class="link">${url}</div>
    `;

    div.querySelector(".copy").onclick = ()=>copyText(url);
    wrap.appendChild(div);
  });
}

document.getElementById("btnGen").onclick = ()=>{
  const slug = document.getElementById("slugInput").value.trim().toLowerCase();
  if(!slug){
    alert("⚠️ Mets un slug frérot !");
    return;
  }
  render(slug);
};

// Auto test Chez Astou
document.getElementById("slugInput").value="chez-astou-saly";
render("chez-astou-saly");

</script>

</body>
</html>
