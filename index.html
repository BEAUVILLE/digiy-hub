<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="theme-color" content="#061b14"/>
  <title>DIGIY HUB ‚ôæÔ∏è ‚Äî Vitrine</title>
  <meta name="description" content="DIGIYLYFE ‚Äî 0% commission. Paiement direct. Modules PRO pour digitaliser l‚Äô√©conomie locale." />

  <style>
    :root{
      --bg:#061b14; --card:#0b2a1f; --line:rgba(255,255,255,.12);
      --text:#eafff1; --muted:rgba(234,255,241,.72);
      --gold:#facc15; --green:#22c55e; --danger:#fb7185;
      --shadow:0 18px 60px rgba(0,0,0,.45); --r:22px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:
        radial-gradient(1000px 700px at 12% 0%, rgba(34,197,94,.15), transparent 55%),
        radial-gradient(900px 650px at 100% 10%, rgba(250,204,21,.14), transparent 60%),
        linear-gradient(180deg, #061b14 0%, #04130f 100%);
      min-height:100vh;
    }
    .wrap{max-width:1100px;margin:0 auto;padding:18px 14px 28px}
    .top{
      border:1px solid var(--line); border-radius:26px;
      background:rgba(255,255,255,.06);
      box-shadow:var(--shadow);
      padding:16px;
      display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;
    }
    .brand{display:flex;gap:10px;align-items:center}
    .logo{
      width:44px;height:44px;border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.08);
      display:grid;place-items:center;font-weight:900;
    }
    h1{margin:0;font-size:16px}
    .sub{margin:2px 0 0;color:var(--muted);font-size:12px}
    .btn{
      display:inline-flex;align-items:center;gap:8px;
      padding:12px 14px;border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
      color:var(--text);text-decoration:none;
      font-weight:700;font-size:13px;
      cursor:pointer;
    }
    .btn.primary{border-color:rgba(34,197,94,.30);background:rgba(34,197,94,.16)}
    .btn.gold{border-color:rgba(250,204,21,.30);background:rgba(250,204,21,.14)}
    .btn.ghost{border-color:rgba(255,255,255,.12);background:rgba(255,255,255,.06)}
    .hero{
      margin-top:12px;
      border:1px solid var(--line); border-radius:26px;
      background:rgba(255,255,255,.05);
      padding:16px;
    }
    .hero h2{margin:0 0 6px;font-size:18px}
    .hero p{margin:0;color:var(--muted);font-size:13px;line-height:1.45}

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:12px;
      margin-top:12px;
    }
    @media (max-width:950px){ .grid{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:560px){ .grid{grid-template-columns:1fr} }

    .card{
      border:1px solid var(--line);
      border-radius:26px;
      background:rgba(255,255,255,.06);
      box-shadow:0 10px 28px rgba(0,0,0,.25);
      padding:14px;
      cursor:pointer;
      transition:transform .10s ease, background .15s ease, border-color .15s ease;
      position:relative; overflow:hidden;
    }
    .card:hover{transform:translateY(-1px);background:rgba(255,255,255,.08);border-color:rgba(255,255,255,.18)}
    .row{display:flex;gap:12px;align-items:flex-start}
    .ico{
      width:42px;height:42px;border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.08);
      display:grid;place-items:center;
      flex:0 0 auto;
    }
    .t{margin:0;font-size:15px}
    .d{margin:6px 0 0;font-size:12px;color:var(--muted);line-height:1.35}
    .tag{
      margin-top:10px;display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;font-size:12px;
      border:1px solid rgba(251,113,133,.28);
      background:rgba(251,113,133,.10);
    }
    .dot{width:9px;height:9px;border-radius:999px;background:rgba(251,113,133,.95)}
    .foot{margin-top:14px;color:var(--muted);font-size:12px;text-align:center}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
  </style>
</head>

<body>
  <div class="wrap">

    <div class="top">
      <div class="brand">
        <div class="logo">‚àû</div>
        <div>
          <h1>DIGIY HUB ‚Äî Vitrine</h1>
          <div class="sub">0% commission ¬∑ Paiement direct ¬∑ Terrain ready</div>
        </div>
      </div>

      <div style="display:flex;gap:10px;flex-wrap:wrap">
        <button class="btn primary" id="btnEnter">üöÄ Entrer dans mon HUB</button>
        <a class="btn ghost" href="./hub.html">üîë J‚Äôai d√©j√† mon acc√®s</a>
        <a class="btn gold" href="https://beauville.github.io/commencer-a-payer/">‚ö° Activer un module</a>
      </div>
    </div>

    <div class="hero">
      <h2>Tout DIGIY, visible. Acc√®s PRO sur demande ü¶Ö</h2>
      <p>
        Ici c‚Äôest la vitrine : tu vois les modules.  
        Pour utiliser, tu actives (Wave/QR) ou tu entres dans ton HUB PRO.
      </p>
      <p style="margin-top:10px" class="mono" id="hint"></p>
    </div>

    <div class="grid" id="grid"></div>

    <div class="foot">DIGIYLYFE ‚ôæÔ∏è ‚Äî souverainet√© digitale ¬∑ paiement direct</div>
  </div>

  <script>
    const PAY_URL = "https://beauville.github.io/commencer-a-payer/";
    const HUB_URL = "./hub.html";

    const MODULES = [
      { code:"loc",     title:"DIGIY LOC PRO",    desc:"Locations ¬∑ h√©bergements ¬∑ planning.", icon:"üè†" },
      { code:"driver",  title:"DIGIY DRIVER PRO", desc:"Chauffeur ¬∑ courses ¬∑ cockpit.",       icon:"üöó" },
      { code:"build",   title:"DIGIY BUILD PRO",  desc:"Artisans ¬∑ devis ¬∑ chantiers.",        icon:"üß±" },
      { code:"market",  title:"DIGIY MARKET",     desc:"Marketplace ¬∑ deals ¬∑ terrain.",      icon:"üõí" },
      { code:"jobs",    title:"DIGIY JOBS",       desc:"Emploi ¬∑ dossiers ¬∑ accompagnement.", icon:"üß∞" },
      { code:"explore", title:"DIGIY EXPLORE",    desc:"Spots ¬∑ tourisme ¬∑ visibilit√©.",      icon:"üó∫Ô∏è" },
      { code:"store",   title:"DIGIY STORE PRO",  desc:"Boutique PRO ¬∑ commandes.",           icon:"üè™" },
      { code:"style",   title:"DIGIY STYLE",      desc:"Identit√© ¬∑ vitrine ¬∑ branding.",      icon:"‚ú®" },
      { code:"pay",     title:"DIGIY PAY",        desc:"Activation ¬∑ QR ¬∑ paiement direct.",  icon:"üí≥" },
    ];

    const grid = document.querySelector("#grid");
    const hint = document.querySelector("#hint");

    function normalizePhone(p){
      if(!p) return "";
      return String(p).trim();
    }

    function savePhone(phone){
      localStorage.setItem("DIGIY_PHONE", phone);
    }

    function getSavedPhone(){
      return normalizePhone(localStorage.getItem("DIGIY_PHONE"));
    }

    function goHubWithPhone(phone){
      const url = HUB_URL + "?phone=" + encodeURIComponent(phone);
      location.href = url;
    }

    // ‚úÖ Affiche modules en vitrine (toujours visibles)
    MODULES.forEach(m=>{
      const card = document.createElement("div");
      card.className = "card";
      card.innerHTML = `
        <div class="row">
          <div class="ico">${m.icon}</div>
          <div style="min-width:0">
            <h3 class="t">${m.title}</h3>
            <div class="d">${m.desc}</div>
            <div class="tag"><span class="dot"></span> <span>Acc√®s PRO requis</span></div>
          </div>
        </div>
      `;

      // clic = activation avec ?module
      card.onclick = ()=> {
        const u = new URL(PAY_URL);
        u.searchParams.set("module", m.code);

        const saved = getSavedPhone();
        if(saved) u.searchParams.set("phone", saved);

        location.href = u.toString();
      };

      grid.appendChild(card);
    });

    // ‚úÖ Bouton "Entrer dans mon HUB" (entr√©e rapide)
    document.querySelector("#btnEnter").addEventListener("click", ()=>{
      const saved = getSavedPhone();

      if(saved){
        goHubWithPhone(saved);
        return;
      }

      const p = prompt("DIGIY HUB ‚Äî Entre ton num√©ro (ex: +221771234567) :");
      const phone = normalizePhone(p);

      if(!phone){
        alert("Num√©ro requis pour entrer dans ton HUB PRO.");
        return;
      }

      savePhone(phone);
      goHubWithPhone(phone);
    });

    // petit hint
    const saved = getSavedPhone();
    hint.textContent = saved
      ? ("üì± Num√©ro m√©moris√© : " + saved + " ‚Äî bouton ‚ÄòEntrer‚Äô t‚Äôemm√®ne direct au HUB.")
      : "üí° Astuce : clique ‚ÄòEntrer dans mon HUB‚Äô et mets ton num√©ro une fois. Apr√®s, c‚Äôest automatique.";
  </script>
</body>
</html>
